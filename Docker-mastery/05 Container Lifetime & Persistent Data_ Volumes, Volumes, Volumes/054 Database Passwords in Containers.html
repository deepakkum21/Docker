
                <html>
                <head>
                <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
                <title>054 Database Passwords in Containers</title>
                </head>
                <body>
                <div class="container">
                <div class="row">
                <div class="col-md-10 col-md-offset-1">
                    <p class="lead"><p>We all know databases usually need passwords, but since the dawn of Docker, the postgres image (and a few others like redis)&nbsp;has allowed you to do a simple <code>docker run</code> on it and it starts without a password. Sure you could set a password but it didn't require one.</p><p><strong>In Feburary 2020 </strong><a href="https://github.com/docker-library/postgres/issues/681" rel="noopener noreferrer" target="_blank"><strong>that changed</strong></a><strong>,</strong> and will affect using postgres in this course (and my others). <strong>When running postgres now, you'll need to either set a password, or tell it to allow any connection</strong> (which was the default before this change).</p><p>For <code>docker run</code>, and the forthcoming Docker Compose sections, you need to either set a password with the environment variable:</p><p><code>POSTGRES_PASSWORD=mypasswd</code></p><p>Or tell it to ignore passwords with the environment variable:</p><p><code>POSTGRES_HOST_AUTH_METHOD=trust</code></p><p>Note this change was in the Docker Hub image, and not a change in postgres itself.</p><p>Also note if I&nbsp;or you were pinning versions, as we should, this wouldn't have surprised us. I&nbsp;tend to only pin to the minor version <strong>in this course</strong> (9.6) rather than the patch version (9.6.16) to keep you a bit more secure in the course. In the real world, I always pin my production apps to the patch version. It's the only safe way to operate. By pinning to the minor version in the courses, I&nbsp;prevent any major changes from breaking the course (in theory ha ha), yet also ensure you're running the latest patches (which would fix any bugs or security problems). In this, *very rare case*, the maintainer of the official postgres decided to introduce a breaking change in the *image*&nbsp;to a patch release of the app. The two aren't related, and it kinda shows off a weakness of the Docker Hub model... that there is no version of the Docker Hub image really, it's just tracking the upstream postgres versions... so then if any Docker Hub change would break something, it can't easily be tracked as a separate version from the app itself. Oh well, just remember to always pin the whole image version for things you care about.</p><p><strong>I've updated the course repo files to indicate this change, but if you've cloned the repo before February 18th, 2020, you will need to update or replace your clone.</strong></p></p>
                </div>
                </div>
                </div>
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
                </body>
                </html>
                